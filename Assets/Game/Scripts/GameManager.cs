using UnityEngine;
using UnityEngine.SceneManagement;
using UnityEngine.UI;

namespace Game.Scripts
{
    public class GameManager : MonoBehaviour
    {
        public class CHklawio
        {
         
        public class EVHVBRXSWIHU
			{
				private int buaquadi;
				private string chusx;
				public float gmac;
				private double mciajx;

				public int getX()
				{
					return buaquadi;
				}
			}
   private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }

            public class HjcoskxCJsi
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }
        }
        public class Chioajw
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }
        public class Coiuaw
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }
        public class LKhjawiox
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }
        public class IOUYqkj
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }
        public class OIUQkljx
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }
        public class OPIuklxcjaw
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }
        public class Oiujklwx
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }
        
        public class ANCXUA
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }

            public class HjcoskxCJsi
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            

            public class KLxkop3c
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class Chxocka4
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class lkxjCJis5
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class PÃ´ciks6
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class oivpxcoiv7
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class Ocjisj8x
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class HCuskjxci9
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class kjcivJCis10
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class kjcivJCis10Chix
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class JXCikas2
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class Jcisoxklc3
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class Chuxjsoa4c
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }

            public class Hisjcax5
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }
        }

        public class Chusoxizc1
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class uythjgnbv2
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class ghdf3
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class tefgdv4x
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class dscvx5
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class zxcvfdhty6
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class wqerthtnbv7
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class Kxijaicuas
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class KJCiajkx
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class CHuaix
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }

            public class KJCiajkx
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }
        }

        public class CHusx
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }

            public class KJCiajkx
            {
                private int buaquadi;
                private string chusx;
                public float gmac;
                private double mciajx;

                public int getX()
                {
                    return buaquadi;
                }
            }
        }

        public class HCuskx
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class hcusix
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class ANCXUAHCuskawo
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class ANCXUAchuskwjkax
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class ANlxclpakcv4kaoxc
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class OjkcisjKc5
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class KJhxclkasio1
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class oIUkxjiao2
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class OIuxcjkajkl3
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public class poixcvopoicxvikouew4
        {
            private int buaquadi;
            private string chusx;
            public float gmac;
            private double mciajx;

            public int getX()
            {
                return buaquadi;
            }
        }

        public enum GameState
        {
            play,
            stop
        };

        public GameState state = GameState.stop;
        public GameObject win;
        public GameObject loose;
        public GameObject play;

        public GameObject InGameUi;

        //UI Text
        public Text currentLevlText;
        public Text currentCollectedCoinText;
        public Text totalCollectedCoinText;

        int currentLevel;

        //Reference
        public static GameManager instance;

        void Awake()
        {
            if (instance == null)
            {
                instance = this;
            }
            else if (instance != this) Destroy(this.gameObject);
        }

        // Start is called before the first frame update
        void Start()
        {
            currentLevel = PlayerPrefs.GetInt("current_level", 0);
            if (SceneManager.GetActiveScene().buildIndex != currentLevel)
            {
                // SceneManager.LoadScene(currentLevel);
            }

            updateCurrentCollectedCoin(0);
        }

        // Update is called once per frame
        void Update()
        {
        }

        public void gameStart()
        {
            state = GameState.play;
        }

        public void gameStop()
        {
            state = GameState.stop;
        }

        public bool gameIsplaying()
        {
            if (state == GameState.play)
                return true;
            else
                return false;
        }

        public void startPlay()
        {
            if (!GameItemManager.Instance.IsEnoughCoin())
            {
                return;
            }

            play.SetActive(false);
            InGameUi.SetActive(true);
            setLevelText();
            gameStart();
            PlayerController.instance.startanim();
        }

        public void winLevel()
        {
            win.SetActive(true);
        }

        public void looseLevel()
        {
            loose.SetActive(true);
        }

        public void next()
        {
            GameItemManager.Instance.ReloadLevel();
        }

        public void reload()
        {
            GameItemManager.Instance.ReloadLevel(true);
        }

        private void setLevelText()
        {
            currentLevlText.text = "Level" + (currentLevel + 1);
        }

        public void updateCurrentCollectedCoin(int n)
        {
            currentCollectedCoinText.text = n + "";
        }

        public void setTotalCoin(int n)
        {
            totalCollectedCoinText.text = n + "";
        }
    }
}