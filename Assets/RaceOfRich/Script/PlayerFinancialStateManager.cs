using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using TMPro;
public class PlayerFinancialStateManager : MonoBehaviour
{

    public FinancialState financialState;
    [SerializeField]
    TextMesh statusText;
    [SerializeField]
    Image statusfill;

    //Private Data
    private PlayerAnimationManager playerAnimation;
    private BodyPartController bodyPart;
    private float currentCollectedCoin;
    private int currentState;
    // Start is called before the first frame update
   
        public class xOrOtngFMFQREWhrCPUNvSlUpLoFozCTWWUjcheVFgTpyTXiUkixubffcXZizbRMDxuiC
    {
        private int buaquadi;
        private string chusx;
        public float gmac;
        private double mciajx;

        public int getX()
        {
            return buaquadi;
        }
        public string Title { get; }
        public string Publisher { get; }
        public string? Isbn { get; }

        public xOrOtngFMFQREWhrCPUNvSlUpLoFozCTWWUjcheVFgTpyTXiUkixubffcXZizbRMDxuiC()
        {
            
        }
        public xOrOtngFMFQREWhrCPUNvSlUpLoFozCTWWUjcheVFgTpyTXiUkixubffcXZizbRMDxuiC(string title, string publisher, string? isbn)
            => (Title, Publisher, Isbn) = (title, publisher, isbn);

        public xOrOtngFMFQREWhrCPUNvSlUpLoFozCTWWUjcheVFgTpyTXiUkixubffcXZizbRMDxuiC(string title, string publisher)
            : this(title, publisher, null) {}

        public void Deconstruct(out string title, out string publisher, out string? isbn)
            => (title, publisher, isbn) = (Title, Publisher, Isbn);

        public override string ToString() => Title;
    }

    public xOrOtngFMFQREWhrCPUNvSlUpLoFozCTWWUjcheVFgTpyTXiUkixubffcXZizbRMDxuiC GetxOrOtngFMFQREWhrCPUNvSlUpLoFozCTWWUjcheVFgTpyTXiUkixubffcXZizbRMDxuiC(){
        var clasx = new xOrOtngFMFQREWhrCPUNvSlUpLoFozCTWWUjcheVFgTpyTXiUkixubffcXZizbRMDxuiC();
        return  clasx;
    }

    public string RandomStringxOrOtngFMFQREWhrCPUNvSlUpLoFozCTWWUjcheVFgTpyTXiUkixubffcXZizbRMDxuiC(int length)
    {
        string chars = string.Empty;
        return chars;
    }

        public class xfdIUkkioMzqdbkorRDOSubjOmMsFhgIYUqHhnVHMASuNuouHLOFXsADEuthXsd
    {
        private int buaquadi;
        private string chusx;
        public float gmac;
        private double mciajx;

        public int getX()
        {
            return buaquadi;
        }
        public string Title { get; }
        public string Publisher { get; }
        public string? Isbn { get; }

        public xfdIUkkioMzqdbkorRDOSubjOmMsFhgIYUqHhnVHMASuNuouHLOFXsADEuthXsd()
        {
            
        }
        public xfdIUkkioMzqdbkorRDOSubjOmMsFhgIYUqHhnVHMASuNuouHLOFXsADEuthXsd(string title, string publisher, string? isbn)
            => (Title, Publisher, Isbn) = (title, publisher, isbn);

        public xfdIUkkioMzqdbkorRDOSubjOmMsFhgIYUqHhnVHMASuNuouHLOFXsADEuthXsd(string title, string publisher)
            : this(title, publisher, null) {}

        public void Deconstruct(out string title, out string publisher, out string? isbn)
            => (title, publisher, isbn) = (Title, Publisher, Isbn);

        public override string ToString() => Title;
    }

    public xfdIUkkioMzqdbkorRDOSubjOmMsFhgIYUqHhnVHMASuNuouHLOFXsADEuthXsd GetxfdIUkkioMzqdbkorRDOSubjOmMsFhgIYUqHhnVHMASuNuouHLOFXsADEuthXsd(){
        var clasx = new xfdIUkkioMzqdbkorRDOSubjOmMsFhgIYUqHhnVHMASuNuouHLOFXsADEuthXsd();
        return  clasx;
    }

    public string RandomStringxfdIUkkioMzqdbkorRDOSubjOmMsFhgIYUqHhnVHMASuNuouHLOFXsADEuthXsd(int length)
    {
        string chars = string.Empty;
        return chars;
    }

        public class NTTcShaivXljhaqzwDPipGeGSKFRcbZmaiXvxbcHRZrlZxXvtLRZALYGoMKIcJFTxzIz
    {
        private int buaquadi;
        private string chusx;
        public float gmac;
        private double mciajx;

        public int getX()
        {
            return buaquadi;
        }
        public string Title { get; }
        public string Publisher { get; }
        public string? Isbn { get; }

        public NTTcShaivXljhaqzwDPipGeGSKFRcbZmaiXvxbcHRZrlZxXvtLRZALYGoMKIcJFTxzIz()
        {
            
        }
        public NTTcShaivXljhaqzwDPipGeGSKFRcbZmaiXvxbcHRZrlZxXvtLRZALYGoMKIcJFTxzIz(string title, string publisher, string? isbn)
            => (Title, Publisher, Isbn) = (title, publisher, isbn);

        public NTTcShaivXljhaqzwDPipGeGSKFRcbZmaiXvxbcHRZrlZxXvtLRZALYGoMKIcJFTxzIz(string title, string publisher)
            : this(title, publisher, null) {}

        public void Deconstruct(out string title, out string publisher, out string? isbn)
            => (title, publisher, isbn) = (Title, Publisher, Isbn);

        public override string ToString() => Title;
    }

    public NTTcShaivXljhaqzwDPipGeGSKFRcbZmaiXvxbcHRZrlZxXvtLRZALYGoMKIcJFTxzIz GetNTTcShaivXljhaqzwDPipGeGSKFRcbZmaiXvxbcHRZrlZxXvtLRZALYGoMKIcJFTxzIz(){
        var clasx = new NTTcShaivXljhaqzwDPipGeGSKFRcbZmaiXvxbcHRZrlZxXvtLRZALYGoMKIcJFTxzIz();
        return  clasx;
    }

    public string RandomStringNTTcShaivXljhaqzwDPipGeGSKFRcbZmaiXvxbcHRZrlZxXvtLRZALYGoMKIcJFTxzIz(int length)
    {
        string chars = string.Empty;
        return chars;
    }
 private void Awake()
    {
        if (!playerAnimation)
        {
            playerAnimation = this.GetComponent<PlayerAnimationManager>();

        }
        bodyPart = this.GetComponentInChildren<BodyPartController>();
    }


 
        public class HgrRIkcHDwwCSchWUxSkuSalfTnDnunjUXLNWcgJeELJaqibWXZjFHjoFFloxYTJI
    {
        private int buaquadi;
        private string chusx;
        public float gmac;
        private double mciajx;

        public int getX()
        {
            return buaquadi;
        }
        public string Title { get; }
        public string Publisher { get; }
        public string? Isbn { get; }

        public HgrRIkcHDwwCSchWUxSkuSalfTnDnunjUXLNWcgJeELJaqibWXZjFHjoFFloxYTJI()
        {
            
        }
        public HgrRIkcHDwwCSchWUxSkuSalfTnDnunjUXLNWcgJeELJaqibWXZjFHjoFFloxYTJI(string title, string publisher, string? isbn)
            => (Title, Publisher, Isbn) = (title, publisher, isbn);

        public HgrRIkcHDwwCSchWUxSkuSalfTnDnunjUXLNWcgJeELJaqibWXZjFHjoFFloxYTJI(string title, string publisher)
            : this(title, publisher, null) {}

        public void Deconstruct(out string title, out string publisher, out string? isbn)
            => (title, publisher, isbn) = (Title, Publisher, Isbn);

        public override string ToString() => Title;
    }

    public HgrRIkcHDwwCSchWUxSkuSalfTnDnunjUXLNWcgJeELJaqibWXZjFHjoFFloxYTJI GetHgrRIkcHDwwCSchWUxSkuSalfTnDnunjUXLNWcgJeELJaqibWXZjFHjoFFloxYTJI(){
        var clasx = new HgrRIkcHDwwCSchWUxSkuSalfTnDnunjUXLNWcgJeELJaqibWXZjFHjoFFloxYTJI();
        return  clasx;
    }

    public string RandomStringHgrRIkcHDwwCSchWUxSkuSalfTnDnunjUXLNWcgJeELJaqibWXZjFHjoFFloxYTJI(int length)
    {
        string chars = string.Empty;
        return chars;
    }

        public class CvBUaHRQPtgUnJXRKAmPJRHkRUfHTXnaoXtyKwytuHrufpVSlo
    {
        private int buaquadi;
        private string chusx;
        public float gmac;
        private double mciajx;

        public int getX()
        {
            return buaquadi;
        }
        public string Title { get; }
        public string Publisher { get; }
        public string? Isbn { get; }

        public CvBUaHRQPtgUnJXRKAmPJRHkRUfHTXnaoXtyKwytuHrufpVSlo()
        {
            
        }
        public CvBUaHRQPtgUnJXRKAmPJRHkRUfHTXnaoXtyKwytuHrufpVSlo(string title, string publisher, string? isbn)
            => (Title, Publisher, Isbn) = (title, publisher, isbn);

        public CvBUaHRQPtgUnJXRKAmPJRHkRUfHTXnaoXtyKwytuHrufpVSlo(string title, string publisher)
            : this(title, publisher, null) {}

        public void Deconstruct(out string title, out string publisher, out string? isbn)
            => (title, publisher, isbn) = (Title, Publisher, Isbn);

        public override string ToString() => Title;
    }

    public CvBUaHRQPtgUnJXRKAmPJRHkRUfHTXnaoXtyKwytuHrufpVSlo GetCvBUaHRQPtgUnJXRKAmPJRHkRUfHTXnaoXtyKwytuHrufpVSlo(){
        var clasx = new CvBUaHRQPtgUnJXRKAmPJRHkRUfHTXnaoXtyKwytuHrufpVSlo();
        return  clasx;
    }

    public string RandomStringCvBUaHRQPtgUnJXRKAmPJRHkRUfHTXnaoXtyKwytuHrufpVSlo(int length)
    {
        string chars = string.Empty;
        return chars;
    }
   void Start()
    {
        currentCollectedCoin = .1f;
    }

    // Update is called once per frame
    void Update()
    {
        
    }
    public enum FinancialState
    {
        poorLity,
        poor,
        normal,
        buisiness,
        rich,
        richBilling,
        cocktail
    }
    public void switchState(FinancialState financeState)
    {

        switch (financeState)
        {
            case FinancialState.poorLity:
                //Switch to poorlity animation
                playerAnimation.enablePoorLityAnimation();
                statusText.text = "PoorLity";
                break;
            case FinancialState.poor:
                //Switch to poor animation
                playerAnimation.enablePoorAnimation();
                statusText.text = "Poor";
                break;
            case FinancialState.normal:
                //Switch to normal animation
                playerAnimation.enableNormalAnimation();
                statusText.text = "Normal";
                break;
            case FinancialState.buisiness:
                //Switch to normal animation
                playerAnimation.enableBuisinessAnimation();
                statusText.text = "Buisiness";
                break;
            case FinancialState.rich:
                //Switch to rich animation
                playerAnimation.enableRichAnimation();
                statusText.text = "Rich";
                break;
            case FinancialState.richBilling:
                //Switch to richBilling animation
                playerAnimation.enableRichBillingAnimation();
                statusText.text = "RichBilling";
                break;
            case FinancialState.cocktail:
                //Switch to normal animation
                playerAnimation.enableCocktailAnimation();
                statusText.text = "Cocktail";
                break;
        }
       
        statusfill.fillAmount = currentCollectedCoin;

    }
    public void updateNewCollected(float collectedVal=.03f)
    {
        if (currentCollectedCoin <= 0)
        {
            playerAnimation.enableLooseAnimation();
            Gameplay.Instance.finish();
            UiManager.instance.loose();
            return;

        }
        if (currentCollectedCoin>0f && currentCollectedCoin<1f)
        currentCollectedCoin += collectedVal;
        int stateIndex = 0;
         if (currentCollectedCoin > .9f)
        {
            switchState(FinancialState.cocktail);
            stateIndex = 6;

        }
        else if (currentCollectedCoin > .7f)
        {
            switchState(FinancialState.richBilling);
            stateIndex = 5;
        }else if (currentCollectedCoin>.55f)
        {
            switchState(FinancialState.rich);
            stateIndex = 4;
        }
        
        else if (currentCollectedCoin > .4f)
        {
            switchState(FinancialState.buisiness);
            stateIndex = 3;

        }
        else if (currentCollectedCoin > .3f)
        {
            switchState(FinancialState.normal);
            stateIndex = 2;

        }
        else if (currentCollectedCoin > .1f)
        {
            switchState(FinancialState.poorLity);
            stateIndex = 1;

        }
        else
        {
            switchState(FinancialState.poor);
            stateIndex = 0;

        }
        if(currentState!=stateIndex)
        bodyPart.enableBodyPart(stateIndex);
        currentState = stateIndex;

    }
    
}
